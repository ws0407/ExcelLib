### python中最重要的组成——变量

变量是存储在内存中的值，简单理解为**等号左边的东西**，也就是我们要把一个“值”赋予谁，下次直接拿它来操作，例如result

#### 变量名（标识符）

* 所有标识符可以包括英文、数字以及下划线( _ )，但不能以数字开头，区分大小写，且不能包含系统已定义的标识符（例如函数名）

  * 合法：     `avg_price = 5.6`   ||   `BobEnglishGrade = 59`   ||    `_ = "下划线"`
  * 不合法：`2024_price = 5.6`   ||   `print = [1,2,3]`           ||    `my-age = 23`

#### 变量类型

python不需要像 `C/C++`一样指定变量类型，会自动识别变量类型和分配内存。

| 名称   | 表示                                           | 示例                                                                                                                                | 说明                                                                                               |
| ------ | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| 数字   | `int`, `long`, `float`,<br />`complex` | `x = 10`<br />`y = 10.14`                                                                                                       | 不需要指定类型                                                                                     |
| 字符串 | `str`                                        | `x = "hello"; y = 'hhh'`<br />`z = "这是双引号：\""`<br />`s = 'he' + 'llo'  # hello`<br />`s = 'th' * 3      # ththth` | 单引号和双引号均可<br />特殊符号用反斜杠转义<br />支持加法，表示合并<br />支持乘整数，表示复制几份 |
| 列表   | `list`                                       | `x = [2, 3, 5]`<br />`y = ['ws', 'th', 5, [2, 'hhh']]`<br />`z = y[2]    # 即 z = 5`                                        | 中括号，任何类型，可嵌套<br />用中括号访问其中的元素<br />下标从0开始                              |
| 元组   | `tuple`                                      | `x = (1, 2, 'hhh')`                                                                                                               | 只读的list                                                                                         |
| 字典   | `dict`                                       | `x = {'one': 1, 2: 'two', 'ws': 'th'}`<br />`y = x['ws']   # 即 y = 'th'`                                                     | key: value的键值对<br />利用中括号和key访问value                                                   |
| 布尔   | `bool`                                       | `True or False`                                                                                                                   |                                                                                                    |

#### 变量赋值

* 每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。
* 等号 **`=`** 用来给变量赋值， **`=`** 左边是一个变量名， **`=`** 右边是存储在变量中的值。
* 单个变量赋值：
  * 使用等号赋值即可，可以是常数，常量字符串，也可以是其他变量、函数返回值等。`y = x['ws']`
* 多个变量赋值：
  * 从右到左依次赋相同的值：`a = b = c = 2`
  * 多个变量分别赋值：`a, b, c = 1, 2, 'ws'`

#### 数字Number

* 值 举例

| int             | long                  | float      | complex    |
| --------------- | --------------------- | ---------- | ---------- |
| 10              | 51924361L             | 0.0        | 3.14j      |
| 100             | -0x19323L             | 15.20      | 45.j       |
| -786            | 0122L                 | -21.9      | 9.322e-36j |
| 0o70 八进制     | 0xDEFABCECBDAECBFBAEl | 32.3e+18   | .876j      |
| -0o450 八进制   | 535633629843L         | -90.       | -.6545+0J  |
| -0x2F0 十六进制 | -052318172735L        | -32.54e100 | 3e+26J     |
| 0x6A 十六进制  | -4721885298529L       | 70.2E-12   | 4.53e-7j   |

* 运算举例

| 运算符 | 描述                      | 实例 `a=10; b=20`                                        |
| ------ | :------------------------ | :--------------------------------------------------------- |
| +      | 加                        | `a + b` 输出结果 `30`                                  |
| -      | 减                        | `a - b` 输出结果 `-10`                                 |
| *      | 乘                        | `a * b` 输出结果 `200`                                 |
| /      | 除                        | `b / a` 输出结果 `2.0`                                 |
| %      | 取模 - 返回除法的余数     | `b % a` 输出结果 `0`                                   |
| **     | 幂 - 返回x的y次幂         | `a**b` 为 `10`的 `20`次方，`100000000000000000000` |
| //     | 取整除 - 返回商的整数部分 | `9 // 2 = 4`                                             |

#### 列表List

```python
list1 = ['physics', 'chemistry', 1997, 2000]
list2 = [1, 2, 3, 4, 5]
list3 = ["a", "bb", "cc", "ddd"]
```

###### 索引

索引值以 `0` 为开始值，第二个索引是 `1`， `-1` 为从末尾的开始位置。list2 = [1, 2, 3, 4, 5]

```python

# 查，利用索引访问
list2[1] = 2
list2[-1] = 5
list2[-2] = 4 

# 增，使用append函数，在末尾增加一个元素
list2.append(6)
list2 = list2 + [6]

# 删，使用del	（delete）表示删除对应索引的元素
del list2[2]	# list2: [1, 2, 4, 5]

# 改，直接使用索引
list2[3] = 'th'	# list2: [1, 2, 3, 'th', 5]
```

###### 切片

使用冒号，截取一段列表，并定义步长（默认是1）

```python
list2 = [1, 2, 3, 4, 5, 6, 7]
# 步长默认为1，可不写
list2[1:2] = [2]	# 从索引1（包含）截取到索引2（不包含），左闭右开
list2[-4:-2] = [4, 5] 	# 从索引-4（包含）截取到索引-2（不包含）
list2[4:-2] = [5]
list2[:2] = [1, 2]
list2[5:] = [6, 7]

list2[::2] = [1, 3, 5, 7]	# 从索引0开始，到末尾，步长为2，每次间隔一个元素
list2[1:6:2] = [2, 4, 6]
list2[:6:3] = [1, 4]
```

###### 加

两个list的加法表示拼接

```python
L1= ['w', 's']; L2 = ['t', 'h']
L12 = L1 + L2  	# ['w', 's', 't', 'h']
L1.extend(L2)	# 此时L1变成['w', 's', 't', 'h']
'&'.join(L1)	# 表示用什么字符连接起来，'w&s&t&h'，如果是''.join(L1)则是'wsth'

L3 = [13, 14, ['666', 6]]
L1 + L2 + L3 # ['w', 's', 't', 'h', 't', 'h', 13, 14, ['666', 6]]
```

###### 乘

list只能乘整数，表示复制几份

```python
L2 = ['t', 'h']
L2 * 3   # ['t', 'h', 't', 'h', 't', 'h']

# 定义一个长度为5*5的零矩阵
matrix = [[0] * 5] * 5
```

###### 检查成员

| 运算符 | 描述                                                | 实例                                        |
| ------ | --------------------------------------------------- | ------------------------------------------- |
| in     | 在指定的序列中找到值返<br />回 True，否则返回 False | `'th' in ['ws', 5, 'th']  # 返回True`     |
| not in | 没有找到值返回 True，<br />否则返回 False           | `'TH' not in ['ws', 5, 'th']  # 返回True` |

#### 字符串str

字符串就是一个由字符构成的list，支持大部分的list操作（不支持直接增删改）

```python
s = 'hello, my age is 23.'
"is" in s	# 返回True
s[2:5]		# 返回'llo'

para_str = """这是一个多行字符串的实例
多行字符串可以使用制表符
TAB ( \t )。
也可以使用换行符 [ \n ]。
"""
```

###### 运算

```python
s = 'hello'
s = 'hello,' + ' ' + 'ha' * 3	# s = 'hello, hahaha'
```

###### 转义

特殊字符时，python 用反斜杠 `\` 转义字符。常用的有：

```python
'\n'	# 换行符
'\t' 	# 制表符
'\''	# 单引号
'\"'	# 双引号
'\\'	# 反斜杠本身
'\r'	# 回车，将 \r 后面的内容移到字符串开头，并逐一替换开头部分的字符，直至将 \r 后面的内容完全替换完成。
'\v\a\b\f'

# 使用 \r 实现百分比进度：
import time

for i in range(101):
    print("\r{:3}%".format(i),end=' ')
    time.sleep(0.05)
```

###### 内置函数

python中字符串是常量，不支持索引修改，需要修改后重新赋值给变量，python提供了很多内置的对 `str`操作的函数。

* `find(str, beg=0, end=len(string))`：检测 `str` 是否包含在字符串中，如果指定范围 `beg` 和 `end` ，则检查是否包含在指定范围内，如果包含返回开始的索引值，否则返回 `-1`
* `count(sub_str, beg= 0,end=len(string))`：`sub_str` 在字符串里面出现的次数
* `len(str)`：返回字符串长度
* `upper()`：字符串中所有小写字符转为大写
* `lower()`：字符串中所有大写字符转为小写
* `isupper()`：字符串中包含至少一个区分大小写的字符，并且所有这些(区分大小写的)字符都是大写，则返回 `True`，否则返回 `False`
* `islower()`：同上，判断小写
* `isdigit()`：只包含数字则返回 `True` 否则返回 `False`

```python
s = 'Hello, 托托'
s.lower()		# 'hello, 托托'
s.upper()		# 'HELLO, 托托'
s[2:].islower()		# True
s[:2].isupper()		# False
s.find('托')		# 7
s[:7].find('托')	# -1	没找到
s.count('托')		# 2
len(s)			# 9
'98.2'.isdigit()	# False
```

#### 元组tuple

元组与 `list`类似，不同之处在于元组的元素不能修改。元组使用小括号 `()`，列表使用方括号 `[]`

```python
tup1 = (1, 2, 3, 4, 5 )
tup2 = "a", "b", "c", "d"	# 可以不用括号
```

#### 字典dict

可变容器，可存储任意对象，key: value的键值对，利用中括号和key访问value，其中key不允许重复，value可重复

###### 索引

```python
# 定义
x = {'one': 1, 2: 'two', 'ws': 'th'}
y = x['ws']   # 即 y = 'th'

# 增
x[1] = 8	# x: {'one': 1, 2: 'two', 'ws': 'th', 1: 8}

# 删
del x['one']	# x: {2: 'two', 'ws': 'th', 1: 8}
del x		# 字典被删除，不再存在，再使用会报错

# 改
x[2] = [1, 2]	# x: {2: [1, 2], 'ws': 'th', 1: 8}
```

###### 内置函数

```python
x = {'one': 1, 2: 'two', 'ws': 'th'}
len(x)		# 3
x.keys()	# ['one', 2, 'ws']
x.values()	# [1, 'two', 'th']
x.items()	# [('one', 1), (2, 'two'), ('ws', 'th')]
x.clear()	# {}
```
